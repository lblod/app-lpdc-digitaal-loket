@prefix form: <http://lblod.data.gift/vocabularies/forms/> .
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix mu: <http://mu.semte.ch/vocabularies/core/> .
@prefix displayTypes: <http://lblod.data.gift/display-types/> .
@prefix ext: <http://mu.semte.ch/vocabularies/ext/> .

@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix skos:	<http://www.w3.org/2004/02/skos/core#> .
@prefix mu:	<http://mu.semte.ch/vocabularies/core/> .
@prefix cpsv:	<http://purl.org/vocab/cpsv#> .
@prefix dct:	<http://purl.org/dc/terms/> .
@prefix lpdcExt:  <https://productencatalogus.data.vlaanderen.be/ns/ipdc-lpdc#> .
@prefix xkos:	<http://rdf-vocabulary.ddialliance.org/xkos#> .
@prefix m8g:	<http://data.europa.eu/m8g/> .
@prefix dcat:	<http://www.w3.org/ns/dcat#> .
@prefix belgif:	<http://vocab.belgif.be/ns/publicservice#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix schema: <http://schema.org/>.
@prefix ps: <http://vocab.belgif.be/ns/publicservice#> .
@prefix locn: <http://www.w3.org/ns/locn#> .
@prefix adres: <https://data.vlaanderen.be/ns/adres#> .
@prefix eli: <http://data.europa.eu/eli/ontology#> .

##########################################################
# form
##########################################################
ext:form a form:Form, form:TopLevelForm ;
    form:includes ext:titleF;
    form:includes ext:descriptionF;
    form:includes ext:additionalDescriptionF;
    form:includes ext:exceptionF;
    form:includes ext:requirementHeading;
    form:includes ext:requirementsL;
    form:includes ext:rulesHeading;
    form:includes ext:rulesL;
    form:includes ext:costsHeading;
    form:includes ext:costsL;
    form:includes ext:finAdvHeading;
    form:includes ext:finAdvL;
    form:includes ext:regulationitleF;
    form:includes ext:headerLegalResource ;
    form:includes ext:legalResourceL;
    
    form:includes ext:websitesHeading;
    form:includes ext:websitesL.

##########################################################
#  property-group: basisinformatie
##########################################################
ext:basisinformatiePg a form:PropertyGroup;
    sh:name "Basisinformatie" ;
    sh:order 1 .

  ##########################################################
  #  field: title
  ##########################################################
  ext:titleF a form:Field ;
      sh:order 1 ;
      sh:name "Titel";
      form:language "nl-be-x-generated-informal";
      sh:path dct:title ;
      form:validations [
        a form:RequiredConstraint ;
        form:language "nl-be-x-generated-informal";
        form:grouping form:Bag ;
        sh:resultMessage "Dit veld is verplicht." ;
        sh:path dct:title
      ];
      form:displayType displayTypes:lpdcInput;
      sh:group ext:basisinformatiePg .

  ##########################################################
  #  field: description
  ##########################################################
  ext:descriptionF a form:Field ;
      sh:order 1 ;
      sh:name "Beschrijving";
      form:language "nl-be-x-generated-informal";
      form:validations [
        a form:RequiredConstraint ;
        form:language "nl-be-x-generated-informal";
        form:grouping form:Bag ;
        sh:resultMessage "Dit veld is verplicht." ;
        sh:path dct:description
      ];
      sh:path dct:description ;
      form:displayType displayTypes:richText ;
      sh:group ext:basisinformatiePg .

  ##########################################################
  #  field: additional description
  ##########################################################
  ext:additionalDescriptionF a form:Field ;
      sh:order 1 ;
      sh:name "Aanvullende Beschrijving";
      form:language "nl-be-x-generated-informal";
      sh:path lpdcExt:additionalDescription ;
      form:displayType displayTypes:richText ;
      sh:group ext:basisinformatiePg .

  ##########################################################
  #  field: exception
  ##########################################################
  ext:exceptionF a form:Field ;
      sh:order 1 ;
      sh:name "Uitzonderingen" ;
      form:language "nl-be-x-generated-informal";
      sh:path lpdcExt:exception ;
      form:displayType displayTypes:richText ;
      sh:group ext:basisinformatiePg .

##########################################################
#  property-group: Voorwaarden
##########################################################
ext:requirementsPg a form:PropertyGroup;
    sh:order 5 .

ext:requirementHeading a form:Field;
    sh:order 1;
    sh:name "Voorwaarden";
    form:options """{ "level": "2", "skin": "2", "pillText": "Het aantal voorwaarden is gewijzigd", "path": "http://vocab.belgif.be/ns/publicservice#hasRequirement"}""";
    form:displayType displayTypes:lpdcHeading ;
    sh:group ext:requirementsPg.

  ##########################################################
  #  listing-scope: Voorwaarden
  ##########################################################
  ext:requirementsS a form:Scope;
    sh:path belgif:hasRequirement.

  ##########################################################
  #  Listing: Voorwaarden
  ##########################################################
  ext:requirementsL a form:Listing;
    form:each ext:requirementsSf;
    form:scope ext:requirementsS;
    form:createGenerator ext:requirementsG;
    sh:group ext:requirementsPg;
    form:addLabel "Voeg voorwaarde toe";
    form:canAdd true;
    form:canRemove true;
    sh:maxCount 1;
    sh:order 2 .

 ##########################################################
  #  Generator: Voorwaarden
  ##########################################################
  ext:requirementsG a form:Generator;
    form:prototype [
      form:shape [
        a m8g:Requirement ;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Voorwaarden-sub
  ##########################################################
  ext:requirementsPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Voorwaarden
  ##########################################################
  ext:requirementsSf a form:SubForm;
     form:removeLabel "Verwijder voorwaarde";
     form:includes ext:requirementTitleF;
     form:includes ext:requirementDescriptionF;
     form:includes ext:evidencesHeading;
     form:includes ext:evidencesL.

    ##########################################################
    # Field: Requirement title
    ##########################################################
    ext:requirementTitleF a form:Field ;
        sh:name "Titel voorwaarde" ;
        sh:order 1 ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:path dct:title ;
        form:displayType displayTypes:lpdcInput ;
        sh:group ext:requirementsPg-sub .

    ##########################################################
    # Field: Requirement description
    ##########################################################
    ext:requirementDescriptionF a form:Field ;
        sh:name "Beschrijving voorwaarde" ;
        sh:order 3 ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:requirementsPg-sub .

        ##########################################################
        #  property-group: evidence
        ##########################################################
        ext:evidencesPg a form:PropertyGroup;
            sh:order 1 .

        ext:evidencesHeading a form:Field;
           sh:order 1;
           sh:name "Bewijsstukken";
           form:options """{ "level": "3", "skin": "3", "pillText": "Het aantal bewijsstukken is gewijzigd", "path": "http://data.europa.eu/m8g/hasSupportingEvidence"}""";
           form:displayType displayTypes:lpdcHeading ;
           sh:group ext:evidencesPg.

        ##########################################################
        #  listing-scope: Evidence
        ##########################################################
        ext:evidencesS a form:Scope;
          sh:path m8g:hasSupportingEvidence.

        ##########################################################
        #  Listing: Evidence
        ##########################################################
        ext:evidencesL a form:Listing;
          form:each ext:evidencesSf;
          form:scope ext:evidencesS;
          form:createGenerator ext:evidencesG;
          sh:group ext:evidencesPg;
          form:addLabel "Voeg bewijsstuk toe";
          form:canAdd true;
          form:canRemove true;
          sh:maxCount 1;
          sh:order 2 .

       ##########################################################
        #  Generator: Evidence
        ##########################################################
        ext:evidencesG a form:Generator;
          form:prototype [
            form:shape [
              a m8g:Evidence ;
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: Evidence-sub
        ##########################################################
        ext:evidencesPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: Evidence
        ##########################################################
        ext:evidencesSf a form:SubForm;
           form:removeLabel "Verwijder bewijsstuk";
           form:includes ext:evidenceTitleF;
           form:includes ext:evidenceDescriptionF.

          ##########################################################
          # Field: Evidence title
          ##########################################################
          ext:evidenceTitleF a form:Field ;
              sh:name "Titel bewijsstuk" ;
              sh:order 1 ;
              form:language "nl-be-x-generated-informal";
              form:validations [
                a form:RequiredConstraint ;
                form:language "nl-be-x-generated-informal";
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path dct:title
              ];
              sh:path dct:title ;
              form:displayType displayTypes:lpdcInput ;
              sh:group ext:evidencesPg-sub .

          ##########################################################
          # Field: Evidence description
          ##########################################################
          ext:evidenceDescriptionF a form:Field ;
              sh:name "Beschrijving bewijsstuk" ;
              sh:order 3 ;
              form:language "nl-be-x-generated-informal";
              form:validations [
                a form:RequiredConstraint ;
                form:language "nl-be-x-generated-informal";
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path dct:description
              ];
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:evidencesPg-sub .

##########################################################
#  property-group: Procedure
##########################################################
ext:rulesPg a form:PropertyGroup;
    sh:order 6 .

ext:rulesHeading a form:Field;
    sh:order 1;
    sh:name "Procedure";
    form:options """{ "level": "2", "skin": "2", "pillText": "Het aantal procedures is gewijzigd", "path": "http://purl.org/vocab/cpsv#follows"}""";
    form:displayType displayTypes:lpdcHeading ;
    sh:group ext:rulesPg.

  ##########################################################
  #  listing-scope: Proceduren
  ##########################################################
  ext:rulesS a form:Scope;
    sh:path cpsv:follows.

  ##########################################################
  #  Listing: Proceduren
  ##########################################################
  ext:rulesL a form:Listing;
    form:each ext:rulesSf;
    form:scope ext:rulesS;
    form:createGenerator ext:rulesG;
    sh:group ext:rulesPg;
    form:addLabel "Voeg procedure toe";
    form:canAdd true;
    form:canRemove true;
    sh:maxCount 1;
    sh:order 2 .

 ##########################################################
  #  Generator: Proceduren
  ##########################################################
  ext:rulesG a form:Generator;
    form:prototype [
      form:shape [
        a cpsv:Rule;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Proceduren-sub
  ##########################################################
  ext:rulesPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Proceduren
  ##########################################################
  ext:rulesSf a form:SubForm;
     form:removeLabel "Verwijder procedure";
     form:includes ext:ruleTitleF;
     form:includes ext:ruleDescriptionF;
     form:includes ext:procedureWebsitesHeading;
     form:includes ext:procedureWebsitesL.

    ##########################################################
    # Field: Procedure title
    ##########################################################
    ext:ruleTitleF a form:Field ;
        sh:name "Titel procedure" ;
        sh:order 1 ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:path dct:title ;
        form:displayType displayTypes:lpdcInput ;
        sh:group ext:rulesPg-sub .

    ##########################################################
    # Field: Procedure description
    ##########################################################
    ext:ruleDescriptionF a form:Field ;
        sh:name "Beschrijving procedure" ;
        sh:order 3 ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:rulesPg-sub .

        ##########################################################
        #  property-group: procedureWebsite
        ##########################################################
        ext:procedureWebsitesPg a form:PropertyGroup;
            sh:order 1 .

        ext:procedureWebsitesHeading a form:Field;
            sh:order 1;
            sh:name "Website procedure";
            form:options """{ "level": "3", "skin": "3", "pillText": "Het aantal website procedures is gewijzigd", "path": "https://productencatalogus.data.vlaanderen.be/ns/ipdc-lpdc#hasWebsite"}""";
            form:help "Hier kan u de relevante websites om een of meerdere procedurestappen online uit te voeren, aanbrengen/wijzigen.";
            form:displayType displayTypes:lpdcHeading ;
            sh:group ext:procedureWebsitesPg.

        ##########################################################
        #  listing-scope: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesS a form:Scope;
          sh:path lpdcExt:hasWebsite.

        ##########################################################
        #  Listing: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesL a form:Listing;
          form:each ext:procedureWebsitesSf;
          form:scope ext:procedureWebsitesS;
          form:createGenerator ext:procedureWebsitesG;
          sh:group ext:procedureWebsitesPg;
          form:addLabel "Voeg website toe";
          form:canAdd true;
          form:canRemove true;
          sh:order 2 .

       ##########################################################
        #  Generator: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesG a form:Generator;
          form:prototype [
            form:shape [
              a schema:WebSite ;
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: ProcedureWebsite-sub
        ##########################################################
        ext:procedureWebsitesPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesSf a form:SubForm;
           form:removeLabel "Verwijder website";
           form:includes ext:procedureWebsiteTitleF;
           form:includes ext:procedureWebsiteDescriptionF;
           form:includes ext:procedureWebsiteUrlF.

          ##########################################################
          # Field: ProcedureWebsite title
          ##########################################################
          ext:procedureWebsiteTitleF a form:Field ;
              sh:name "Titel website" ;
              sh:order 1 ;
              form:language "nl-be-x-generated-informal";
              form:validations [
                a form:RequiredConstraint ;
                form:language "nl-be-x-generated-informal";
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path dct:title
              ];
              sh:path dct:title ;
              form:displayType displayTypes:lpdcInput ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field: ProcedureWebsite description
          ##########################################################
          ext:procedureWebsiteDescriptionF a form:Field ;
              sh:name "Beschrijving website" ;
              sh:order 2 ;
              form:language "nl-be-x-generated-informal";
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field: ProcedureWebsite url
          ##########################################################
          ext:procedureWebsiteUrlF a form:Field ;
              sh:name "Website URL" ;
              sh:order 3 ;
              form:validations
              [ a form:UriConstraint ;
                form:grouping form:MatchEvery ;
                sh:resultMessage "Gelieve een geldige URL op te geven. Zorg dat vooraan in de link altijd http://, https://, ftp:// of sftp:// staat."; # TODO: later custom validator
                sh:path schema:url
              ],
              [
                a form:RequiredConstraint ;
                form:grouping form:Bag ;
                sh:resultMessage "Dit veld is verplicht." ;
                sh:path schema:url
              ];
              sh:path schema:url ;
              form:displayType displayTypes:lpdcInput ;
              sh:group ext:procedureWebsitesPg-sub .

##########################################################
#  property-group: Kost
##########################################################
ext:costPg a form:PropertyGroup;
    sh:order 6 .

ext:costsHeading a form:Field;
    sh:order 1;
    sh:name "Kosten";
    form:options """{ "level": "2", "skin": "2", "pillText": "Het aantal kosten is gewijzigd", "path": "http://data.europa.eu/m8g/hasCost"}""";
    form:displayType displayTypes:lpdcHeading ;
    sh:group ext:costPg.

  ##########################################################
  #  listing-scope: Kostn
  ##########################################################
  ext:costsS a form:Scope;
    sh:path m8g:hasCost.

  ##########################################################
  #  Listing: Kost
  ##########################################################
  ext:costsL a form:Listing;
    form:each ext:costsSf;
    form:scope ext:costsS;
    form:createGenerator ext:costsG;
    sh:group ext:costPg;
    form:addLabel "Voeg kost toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 2 .

 ##########################################################
  #  Generator: Kost
  ##########################################################
  ext:costsG a form:Generator;
    form:prototype [
      form:shape [
        a m8g:Cost;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Kost-sub
  ##########################################################
  ext:costsPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Kost
  ##########################################################
  ext:costsSf a form:SubForm;
     form:removeLabel "Verwijder kost";
     form:includes ext:costTitleF;
     form:includes ext:costDescriptionF.

    ##########################################################
    # Field: Kost title
    ##########################################################
    ext:costTitleF a form:Field ;
        sh:name "Titel kost" ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:order 1 ;
        sh:path dct:title ;
        form:displayType displayTypes:lpdcInput ;
        sh:group ext:costsPg-sub .

    ##########################################################
    # Field: Kost description
    ##########################################################
    ext:costDescriptionF a form:Field ;
        sh:name "Beschrijving kost" ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:order 3 ;
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:costsPg-sub .

##########################################################
#  property-group: Financieel Voordeel
##########################################################
ext:finAdvPg a form:PropertyGroup;
    sh:order 7 .

ext:finAdvHeading a form:Field;
    sh:order 1;
    sh:name "Financiële voordelen";
    form:options """{ "level": "2", "skin": "2", "pillText": "Het aantal financiële voordelen is gewijzigd", "path": "http://purl.org/vocab/cpsv#produces"}""";
    form:displayType displayTypes:lpdcHeading ;
    sh:group ext:finAdvPg.

  ##########################################################
  #  listing-scope: Financieel Voordeel
  ##########################################################
  ext:finAdvS a form:Scope;
    sh:path cpsv:produces.

  ##########################################################
  #  Listing: Financieel Voordeel
  ##########################################################
  ext:finAdvL a form:Listing;
    form:each ext:finAdvSf;
    form:scope ext:finAdvS;
    form:createGenerator ext:finAdvG;
    sh:group ext:finAdvPg;
    form:addLabel "Voeg financieel voordeel toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 2 .

 ##########################################################
  #  Generator: Financieel Voordeel
  ##########################################################
  ext:finAdvG a form:Generator;
    form:prototype [
      form:shape [
        a lpdcExt:FinancialAdvantage;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Financieel Voordeel-sub
  ##########################################################
  ext:finAdvPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Financieel Voordeel
  ##########################################################
  ext:finAdvSf a form:SubForm;
     form:removeLabel "Verwijder financieel voordeel";
     form:includes ext:finAdvTitleF;
     form:includes ext:finAdvDescriptionF.

    ##########################################################
    # Field: Financieel Voordeel title
    ##########################################################
    ext:finAdvTitleF a form:Field ;
        sh:name "Titel financieel voordeel" ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:order 1 ;
        sh:path dct:title ;
        form:displayType displayTypes:lpdcInput ;
        sh:group ext:finAdvPg-sub .

    ##########################################################
    # Field: Financieel Voordeel description
    ##########################################################
    ext:finAdvDescriptionF a form:Field ;
        sh:name "Beschrijving financieel voordeel" ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:description
        ];
        sh:order 3 ;
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:finAdvPg-sub .

##########################################################
#  property-group: Regelgeving
##########################################################
ext:regulationsPg a form:PropertyGroup;
    sh:name "Regelgeving" ;
    sh:order 8 .

  ##########################################################
  #  field: Regelgeving
  ##########################################################
  ext:regulationitleF a form:Field ;
      sh:order 1 ;
      form:language "nl-be-x-generated-informal";
      sh:name "Regelgeving";
      sh:path lpdcExt:regulation;
      form:displayType displayTypes:richText ;
      sh:group ext:regulationsPg .

  ##########################################################
  #  Header LegalResource
  ##########################################################
  ext:headerLegalResource a form:Field;
     sh:order 3;
     sh:name "Regelgevende bron";
     form:help """Hier kan u de links naar relevante regelgevende bronnen aanbrengen/wijzigen (bijv. <a target="_blank" href="https://codex.vlaanderen.be/">Vlaamse codex</a>).""";
     form:options """{ "level": "3", "skin": "3", "pillText": "Het aantal regelgevende bronnen is gewijzigd", "path": "http://data.europa.eu/m8g/hasLegalResource"}""";
     form:displayType displayTypes:lpdcHeading ;
     sh:group ext:regulationsPg.

  ##########################################################
  #  listing-scope: regelgevende bron
  ##########################################################
  ext:legalResourceS a form:Scope;
    sh:path m8g:hasLegalResource.

  ##########################################################
  #  Listing: regelgevende bron
  ##########################################################
  ext:legalResourceL a form:Listing;
    form:each ext:legalResourceSf;
    form:scope ext:legalResourceS;
    form:createGenerator ext:legalResourceG;
    sh:group ext:regulationsPg;
    form:addLabel "Voeg regelgevende bron toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 4 .

  ##########################################################
  #  Generator: regelgevende bron
  ##########################################################
  ext:legalResourceG a form:Generator;
    form:prototype [
      form:shape [
        a eli:LegalResource ;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: regelgevende bron-sub
  ##########################################################
  ext:legalResourcePg-sub a form:PropertyGroup;
    sh:order 1 .

  ##########################################################
  #  Subform: regelgevende bron
  ##########################################################
  ext:legalResourceSf a form:SubForm;
    form:removeLabel "Verwijder regelgevende bron";
    form:includes ext:legalResourceTitleF;
    form:includes ext:legalResourceDescriptionF;
    form:includes ext:legalResourceUrlF .

    ##########################################################
    # Field:  regelgevende bron title
    ##########################################################
    ext:legalResourceTitleF a form:Field ;
        sh:name "Titel regelgevende bron" ;
        sh:order 1 ;
        form:language "nl-be-x-generated-informal";
        sh:path dct:title ;
        form:displayType displayTypes:lpdcInput ;
        sh:group ext:legalResourcePg-sub .

    ##########################################################
    # Field: regelgevende bron description
    ##########################################################
    ext:legalResourceDescriptionF a form:Field ;
        sh:name "Beschrijving regelgevende bron" ;
        sh:order 3 ;
        form:language "nl-be-x-generated-informal";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:legalResourcePg-sub .

     ##########################################################
     # Field: regelgevende bron url
     ##########################################################
     ext:legalResourceUrlF a form:Field ;
       sh:name "URL regelgevende bron" ;
       sh:order 5 ;
       sh:path schema:url ;
       form:validations [
         a form:UriConstraint ;
         form:grouping form:MatchEvery ;
         sh:resultMessage "Gelieve een geldige URL op te geven. Zorg dat vooraan in de link altijd http://, https://, ftp:// of sftp:// staat."; # TODO: later custom validator
         sh:path schema:url
       ],
       [
         a form:RequiredConstraint ;
         form:grouping form:Bag ;
         sh:resultMessage "Dit veld is verplicht." ;
         sh:path schema:url
       ];
       form:displayType displayTypes:lpdcInput ;
       sh:group ext:legalResourcePg-sub .

##########################################################
#  property-group: Contactpunten
##########################################################
ext:contactpointsPg a form:PropertyGroup;
    sh:name "Contactpunten" ;
    sh:order 9 .

  ##########################################################
  #  listing-scope: Contactpunten
  ##########################################################
  ext:contactpointsS a form:Scope;
    sh:path m8g:hasContactPoint.

  ##########################################################
  #  Listing: Contactpunten
  ##########################################################
  ext:contactpointsL a form:Listing;
    form:each ext:contactpointsSf;
    form:scope ext:contactpointsS;
    form:createGenerator ext:contactpointsG;
    sh:group ext:contactpointsPg;
    form:addLabel "Voeg contactpunt toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

 ##########################################################
  #  Generator: Contactpunten
  ##########################################################
  ext:contactpointsG a form:Generator;
    form:prototype [
      form:shape [
        a schema:ContactPoint ;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Contactpunten-sub
  ##########################################################
  ext:contactpointsPg-sub a form:PropertyGroup;
      sh:name "Contactpunt" ;
      sh:order 1 .

  ##########################################################
  #  Subform: Contactpunten
  ##########################################################
  ext:contactpointsSf a form:SubForm;
     form:removeLabel "Verwijder contactpunt";
     form:includes ext:contactPEmailF;
     form:includes ext:contactPTelephoneF;
     form:includes ext:contactPageF;
     form:includes ext:contactPOpeningF;
     form:includes ext:contactPointAddressL.

    ##########################################################
    # Field: ContactPunt email
    ##########################################################
    ext:contactPEmailF a form:Field ;
        sh:name "Email" ;
        sh:order 1 ;
        form:validations [
          a form:ValidEmail ;
          form:grouping form:MatchEvery ;
          sh:path schema:email ;
          sh:resultMessage "Geef een geldig e-mailadres op."@nl
        ] ;
        sh:path schema:email ;
        form:displayType displayTypes:selectWithCreate ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt phone
    ##########################################################
    ext:contactPTelephoneF a form:Field ;
        sh:name "Telefoon" ;
        sh:order 2 ;
        form:validations [
          a form:ValidPhoneNumber ;
          form:grouping form:MatchEvery ;
          form:defaultCountry "BE" ;
          sh:path schema:telephone ;
          sh:resultMessage "Geef een geldig telefoonnummer in."@nl
        ] ;
        sh:path schema:telephone ;
        form:displayType displayTypes:selectWithCreate ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt website
    ##########################################################
    ext:contactPageF a form:Field ;
        sh:name "Website URL" ;
        sh:order 3 ;
        form:validations [
          a form:UriConstraint ;
          form:grouping form:MatchEvery ;
          sh:resultMessage "Gelieve een geldige URL op te geven. Zorg dat vooraan in de link altijd http://, https://, ftp:// of sftp:// staat."; # TODO: later custom validator
          sh:path schema:url
        ];
        sh:path schema:url ;
        form:displayType displayTypes:selectWithCreate ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt openingsuren
    ##########################################################
    ext:contactPOpeningF a form:Field ;
        sh:name "Openingsuren" ;
        sh:order 4 ;
        sh:path schema:openingHours ;
        form:displayType displayTypes:selectWithCreate ;
        sh:group ext:contactpointsPg-sub .

        ##########################################################
        #  property-group: contactPointAddress
        ##########################################################
        ext:contactPointAddressPg a form:PropertyGroup;
            sh:name "Adres" ;
            sh:order 1 .

        ##########################################################
        #  listing-scope: contactPointAddress
        ##########################################################
        ext:contactPointAddressS a form:Scope;
          sh:path lpdcExt:address.

        ##########################################################
        #  Listing: contactPointAddress
        ##########################################################
        ext:contactPointAddressL a form:Listing;
          form:each ext:contactPointAddressSf;
          form:scope ext:contactPointAddressS;
          form:createGenerator ext:contactPointAddressG;
          sh:group ext:contactPointAddressPg;
          form:addLabel "Voeg adres toe";
          form:canAdd true;
          form:canRemove true;
          sh:maxCount 1;
          sh:order 1 .

        ##########################################################
        #  Generator: contactPointAddress
        ##########################################################
        ext:contactPointAddressG a form:Generator;
          form:prototype [
            form:shape [
              a locn:Address ;
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: contactPointAddress-sub
        ##########################################################
        ext:contactPointAddressPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: contactPointAddress
        ##########################################################
        ext:contactPointAddressSf a form:SubForm;
          form:removeLabel "Verwijder adres";
          form:includes ext:contactPointAddress .

          ##########################################################
          # Field: Address
          ##########################################################

          ext:contactPointAddress a form:Field ;
            sh:name "Adres" ;
            sh:path lpdcExt:address;
            form:displayType displayTypes:addressSelector ;
            sh:group ext:contactPointAddressPg-sub .

##########################################################
#  property-group: meer info
##########################################################
ext:websitesPg a form:PropertyGroup;
    sh:order 10 .

ext:websitesHeading a form:Field;
    sh:order 1;
    sh:name "Meer info";
    form:options """{ "level": "2", "skin": "2", "pillText": "Het aantal websites is gewijzigd", "path": "http://www.w3.org/2000/01/rdf-schema#seeAlso"}""";
    form:displayType displayTypes:lpdcHeading ;
    sh:group ext:websitesPg.

  ##########################################################
  #  listing-scope: Meer Info
  ##########################################################
  ext:websitesS a form:Scope;
    sh:path rdfs:seeAlso.

  ##########################################################
  #  Listing: Meer Info
  ##########################################################
  ext:websitesL a form:Listing;
    form:each ext:websitesSf;
    form:scope ext:websitesS;
    form:createGenerator ext:websitesG;
    sh:group ext:websitesPg;
    form:addLabel "Voeg website toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 2 .

  ##########################################################
  #  Generator: Meer Info
  ##########################################################
  ext:websitesG a form:Generator;
    form:prototype [
      form:shape [
        a schema:WebSite ;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Meer Info-sub
  ##########################################################
  ext:websitesPg-sub a form:PropertyGroup;
      sh:name "Gegevens website";
      sh:order 1 .

  ##########################################################
  #  Subform: Meer Info
  ##########################################################
  ext:websitesSf a form:SubForm;
     form:removeLabel "Verwijder website";
     form:includes ext:websiteTitleF;
     form:includes ext:websiteDescriptionF;
     form:includes ext:websiteUrlF.

    ##########################################################
    # Field:  Meer Info title
    ##########################################################
    ext:websiteTitleF a form:Field ;
        sh:name "Titel website" ;
        sh:order 1 ;
        form:language "nl-be-x-generated-informal";
        form:validations [
          a form:RequiredConstraint ;
          form:language "nl-be-x-generated-informal";
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path dct:title
        ];
        sh:path dct:title ;
        form:displayType displayTypes:lpdcInput ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field: Meer Info description
    ##########################################################
    ext:websiteDescriptionF a form:Field ;
        sh:name "Beschrijving website" ;
        sh:order 3 ;
        form:language "nl-be-x-generated-informal";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field: Meer Info website
    ##########################################################
    ext:websiteUrlF a form:Field ;
        sh:name "Website URL" ;
        sh:order 5 ;
        form:validations
        [ a form:UriConstraint ;
          form:grouping form:MatchEvery ;
          sh:resultMessage "Gelieve een geldige URL op te geven. Zorg dat vooraan in de link altijd http://, https://, ftp:// of sftp:// staat."; # TODO: later custom validator
          sh:path schema:url
        ],
        [
          a form:RequiredConstraint ;
          form:grouping form:Bag ;
          sh:resultMessage "Dit veld is verplicht." ;
          sh:path schema:url
        ];
        sh:path schema:url ;
        form:displayType displayTypes:lpdcInput ;
        sh:group ext:websitesPg-sub .
